{"version":3,"sources":["components/Weather/DataDisplay/DataDisplay.js","components/Weather/Spinner/Spinner.js","components/Weather/CodeInput/CodeInput.js","components/Weather/UnitsSelect/UnitsSelect.js","components/Weather/UnitsRadio/UnitsRadio.js","utils/fetchWeather.js","components/Weather/Weather.js","components/Footer/Footer.js","components/App.js","index.js"],"names":["DataDisplay","props","code","data","className","toUpperCase","temp","feelsLike","description","Spinner","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","CodeInput","setCode","loading","submitButton","disabled","type","placeholder","pattern","maxLength","value","onChange","e","target","UnitsSelect","units","setUnits","UnitsRadio","label","name","checked","fetchWeather","setData","a","RegExp","test","urlQuery","fetchUrl","process","headers","body","JSON","stringify","urlBase","fetch","method","then","json","cod","toString","main","feels_like","weather","catch","alert","fetchWeatherGeo","geoPromise","Promise","res","rej","navigator","geolocation","getCurrentPosition","enableHighAccuracy","timeout","maximumAge","pos","coords","latitude","longitude","Weather","useState","setLoading","loadingGeo","setLoadingGeo","onSubmit","preventDefault","map","val","slice","Footer","href","rel","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.50c863b1.chunk.js","sourcesContent":["const DataDisplay = (props) => {\n  const { code, data } = props;\n\n  if (data) {\n    return (\n      <div className=\"DataDisplay mb-3\">\n        <h1 className=\"text-5xl mb-3 text-gradient-reverse font-bold\">{code.toUpperCase() || \"Enter code:\"}</h1>\n        <p>Temp: <strong>{data.temp}</strong></p>\n        <p>Feels like: <strong>{data.feelsLike}</strong></p>\n        <p>Description: <strong>{data.description}</strong></p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"DataDisplay mb-3\">\n      <h1 className=\"text-5xl mb-3 text-gradient-reverse font-bold\">{code.toUpperCase() || \"Enter code:\"}</h1>\n      <p>Temp: <strong>N/A</strong></p>\n      <p>Feels like: <strong>N/A</strong></p>\n      <p>Description: <strong>N/A</strong></p>\n    </div>\n  );\n};\n\nexport default DataDisplay;\n","const Spinner = () => {\n  return (\n    <svg className=\"inline-block animate-spin mr-2 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n      <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" className=\"opacity-25\"></circle>\n      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n    </svg>\n  );\n};\n\nexport default Spinner;\n","import Spinner from '../Spinner/Spinner';\n\nconst CodeInput = (props) => {\n  const { code, setCode, loading } = props;\n\n  const submitButton = loading ? (\n    <button disabled className=\"p-2 text-white bg-teal-600 border rounded-r-lg\">\n      <Spinner />Loading\n    </button>\n  ) : (\n    <button type=\"submit\" className=\"p-2 text-white bg-teal-500 hover:bg-teal-600 border rounded-r-lg\">\n      Get Weather\n    </button>\n  );\n\n  return (\n    <div className=\"CodeInput mb-3\">\n      <small className=\"block mb-2\">(For Canadian postal codes, first 3 characters only)</small>\n      <input\n        type=\"text\"\n        placeholder=\"ZIP/Postal Code\"\n        pattern=\"^([A-Za-z]\\d[A-Za-z])|(\\d{5})$\"\n        maxLength=\"5\"\n        className=\"p-2 border rounded-l-lg\"\n        value={code}\n        disabled={loading}\n        onChange={(e) => setCode(e.target.value)}\n      />\n      {submitButton}\n    </div>\n  );\n};\n\nexport default CodeInput;\n","const UnitsSelect = (props) => {\n  const { units, setUnits } = props;\n\n  return (\n    <select\n      value={units}\n      className=\"mb-3 p-2 border rounded-lg mr-auto\"\n      onChange={(e) => setUnits(e.target.value)}\n    >\n      <option value=\"metric\">Celsius</option>\n      <option value=\"imperial\">Fahrenheit</option>\n      <option value=\"standard\">Kelvin</option>\n    </select>\n  );\n};\n\nexport default UnitsSelect;\n","const UnitsRadio = (props) => {\n  const { label, name, checked, onChange } = props;\n\n  return (\n    <label className=\"block mb-1\">\n      <input\n        type=\"radio\"\n        className=\"mr-1\"\n        name={name}\n        checked={checked}\n        onChange={onChange}\n      />\n      {label}\n    </label>\n  );\n};\n\nexport default UnitsRadio;\n","const fetchWeather = async (code, units, setData) => {\n  code = new RegExp(/([a-z]\\d[a-z])/i).test(code) ? `${code},ca` : code;\n\n  const urlBase = 'https://api.openweathermap.org/data/2.5/weather';\n  const urlQuery = `?zip=${code}&units=${units}`;\n\n  const fetchUrl = `${process.env.REACT_APP_BACKEND_URL}/weather`;\n  const method = 'POST';\n  const headers = { 'Content-Type': 'application/json' };\n  const body = JSON.stringify({ urlBase, urlQuery });\n\n  await fetch(fetchUrl, { method, headers, body })\n    .then((data) => data.json())\n    .then((data) => {\n      // If the status code begins with anything other than 2, then\n      // `setData(null)`. Otherwise, `setData(data)`.\n      data.cod.toString()[0] !== '2' ? setData(null) : setData({\n        temp: data.main.temp,\n        feelsLike: data.main.feels_like,\n        description: data.weather[0].description\n      });\n    })\n    .catch(() => alert('Error! Something went wrong.'));\n}\n\nconst fetchWeatherGeo = async (units, setData) => {\n  const geoPromise = new Promise((res, rej) => {\n    navigator.geolocation.getCurrentPosition(res, rej, {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0\n    })\n  });\n\n  const pos = await geoPromise.catch(() => alert('Error! Try checking your location permissions.'));\n\n  if (!pos) return setData(null);\n\n  const { latitude, longitude } = pos.coords;\n  const urlBase = 'https://api.openweathermap.org/data/2.5/weather';\n  const urlQuery = `?lat=${latitude}&lon=${longitude}&units=${units}`;\n\n  const fetchUrl = `${process.env.REACT_APP_BACKEND_URL}/weather`;\n  const method = 'POST';\n  const headers = { 'Content-Type': 'application/json' };\n  const body = JSON.stringify({ urlBase, urlQuery });\n\n  await fetch(fetchUrl, { method, headers, body })\n    .then((data) => data.json())\n    .then((data) => {\n      // If the status code begins with anything other than 2, then\n      // `setData(null)`. Otherwise, `setData(data)`.\n      data.cod.toString()[0] !== '2' ? setData(null) : setData({\n        temp: data.main.temp,\n        feelsLike: data.main.feels_like,\n        description: data.weather[0].description\n      });\n    })\n    .catch(() => alert('Error! Something went wrong.'));\n};\n\nexport { fetchWeather, fetchWeatherGeo };\n","import { useState } from 'react';\nimport DataDisplay from './DataDisplay/DataDisplay';\nimport CodeInput from './CodeInput/CodeInput';\nimport UnitsSelect from './UnitsSelect/UnitsSelect';\nimport UnitsRadio from './UnitsRadio/UnitsRadio';\nimport Spinner from './Spinner/Spinner';\nimport { fetchWeather, fetchWeatherGeo } from '../../utils/fetchWeather';\n\nconst Weather = () => {\n  const [code, setCode] = useState('');\n  const [units, setUnits] = useState('metric');\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [loadingGeo, setLoadingGeo] = useState(false);\n\n  return (\n    <div className=\"Weather text-gray-700 sm:text-lg max-w-md mx-auto space-y-4 divide-y-2\">\n      <form\n        onSubmit={async (e) => {\n          e.preventDefault();\n          setLoading(true);\n          await fetchWeather(code, units, setData);\n          setLoading(false);\n        }}\n      >\n        <DataDisplay code={code} units={units} data={data} />\n        <CodeInput code={code} setCode={setCode} loading={loading} />\n        <UnitsSelect units={units} setUnits={setUnits} />\n        {['metric', 'imperial', 'standard'].map((val) =>\n          <UnitsRadio\n            key={`key-${val}`}\n            name=\"units\"\n            checked={units === val}\n            onChange={() => setUnits(val)}\n            label={`${val[0].toUpperCase()}${val.slice(1)}`}\n          />\n        )}\n      </form>\n      <form\n        className=\"flex flex-col items-center\"\n        onSubmit={async (e) => {\n          e.preventDefault();\n          setLoadingGeo(true);\n          await fetchWeatherGeo(units, setData);\n          setLoadingGeo(false);\n        }}\n      >\n        {loadingGeo ? (\n          <button disabled className=\"mt-4 p-2 text-white bg-teal-600 border rounded-lg\">\n            <Spinner />Loading\n          </button>\n        ) : (\n          <button type=\"submit\" className=\"mt-4 p-2 text-white bg-teal-500 hover:bg-teal-600 border rounded-lg\">\n            Use Current Location\n          </button>\n        )}\n      </form>\n    </div>\n  );\n};\n\nexport default Weather;\n","const Footer = () => {\n  return (\n    <footer className=\"Footer mt-auto bg-gradient-reverse\">\n      <a href=\"https://github.com/shah-a/few2.3-02-weather-api\" target=\"_blank\" rel=\"noreferrer\">\n        <i className=\"fab fa-github-alt fa-3x p-10 text-teal-900 hover:text-teal-700\"></i>\n      </a>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import Weather from './Weather/Weather';\nimport Footer from './Footer/Footer';\n\nconst App = () => {\n  return (\n    <div className=\"App min-h-screen flex flex-col bg-gray-100\">\n      <div className=\"my-auto sm:mx-auto\">\n        <div className=\"relative py-3 sm:max-w-2xl sm:mx-auto\">\n          <div className=\"absolute inset-x-0 inset-y-10 sm:inset-10 bg-gradient shadow-lg transform -skew-y-6 sm:skew-y-0 sm:-rotate-6 sm:rounded-3xl\"></div>\n          <div className=\"relative px-4 py-10 bg-white shadow-lg sm:rounded-3xl sm:p-20 my-10 sm:m-10\">\n            <Weather />\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}