(this["webpackJsonp2.3-02-weather-api-frontend"]=this["webpackJsonp2.3-02-weather-api-frontend"]||[]).push([[0],{11:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(6),c=a.n(r),i=(a(11),a(2)),o=a.n(i),l=a(4),d=a(3),j=a(0),b=function(e){var t=e.code,a=e.data;return a?Object(j.jsxs)("div",{className:"DataDisplay mb-3",children:[Object(j.jsx)("h1",{className:"text-5xl mb-3 text-gradient-reverse font-bold",children:t.toUpperCase()||"Enter code:"}),Object(j.jsxs)("p",{children:["Temp: ",Object(j.jsx)("strong",{children:a.temp})]}),Object(j.jsxs)("p",{children:["Feels like: ",Object(j.jsx)("strong",{children:a.feelsLike})]}),Object(j.jsxs)("p",{children:["Description: ",Object(j.jsx)("strong",{children:a.description})]})]}):Object(j.jsxs)("div",{className:"DataDisplay mb-3",children:[Object(j.jsx)("h1",{className:"text-5xl mb-3 text-gradient-reverse font-bold",children:t.toUpperCase()||"Enter code:"}),Object(j.jsxs)("p",{children:["Temp: ",Object(j.jsx)("strong",{children:"N/A"})]}),Object(j.jsxs)("p",{children:["Feels like: ",Object(j.jsx)("strong",{children:"N/A"})]}),Object(j.jsxs)("p",{children:["Description: ",Object(j.jsx)("strong",{children:"N/A"})]})]})},u=function(e){var t=e.code,a=e.setCode,n=e.loading,s=n?Object(j.jsx)("button",{disabled:!0,className:"p-2 text-white bg-teal-600 border rounded-r-lg",children:"Loading"}):Object(j.jsx)("button",{type:"submit",className:"p-2 text-white bg-teal-500 hover:bg-teal-600 border rounded-r-lg",children:"Submit"});return Object(j.jsxs)("div",{className:"CodeInput mb-3",children:[Object(j.jsx)("small",{className:"block mb-2",children:"(For Canadian postal codes, first 3 characters only)"}),Object(j.jsx)("input",{type:"text",placeholder:"ZIP/Postal Code",pattern:"^([A-Za-z]\\d[A-Za-z])|(\\d{5})$",maxLength:"5",className:"p-2 border rounded-l-lg",value:t,disabled:n,onChange:function(e){return a(e.target.value)}}),s]})},h=function(e){var t=e.units,a=e.setUnits;return Object(j.jsxs)("select",{value:t,className:"mb-3 p-2 border rounded-lg mr-auto",onChange:function(e){return a(e.target.value)},children:[Object(j.jsx)("option",{value:"metric",children:"Celsius"}),Object(j.jsx)("option",{value:"imperial",children:"Fahrenheit"}),Object(j.jsx)("option",{value:"standard",children:"Kelvin"})]})},p=function(e){var t=e.label,a=e.name,n=e.checked,s=e.onChange;return Object(j.jsxs)("label",{className:"block mb-1",children:[Object(j.jsx)("input",{type:"radio",className:"mr-1",name:a,checked:n,onChange:s}),t]})},m=function(){var e=Object(l.a)(o.a.mark((function e(t,a,n){var s,r,c,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new RegExp(/([a-z]\d[a-z])/i).test(t)?"".concat(t,",ca"):t,"https://api.openweathermap.org/data/2.5/weather",s="?zip=".concat(t,"&units=").concat(a),r="".concat("https://few-weather.herokuapp.com","/weather"),"POST",c={"Content-Type":"application/json"},i=JSON.stringify({urlBase:"https://api.openweathermap.org/data/2.5/weather",urlQuery:s}),e.next=9,fetch(r,{method:"POST",headers:c,body:i});case 9:return l=e.sent,e.next=12,l.json();case 12:"2"!==(l=e.sent).cod.toString()[0]?n(null):n({temp:l.main.temp,feelsLike:l.main.feels_like,description:l.weather[0].description});case 14:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)("metric"),c=Object(d.a)(r,2),i=c[0],x=c[1],O=Object(n.useState)(null),f=Object(d.a)(O,2),g=f[0],v=f[1],w=Object(n.useState)(!1),N=Object(d.a)(w,2),y=N[0],k=N[1];return Object(j.jsx)("div",{className:"Weather text-gray-700 sm:text-lg max-w-md mx-auto",children:Object(j.jsxs)("form",{onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),k(!0),e.next=4,m(a,i,v);case 4:k(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(j.jsx)(b,{code:a,units:i,data:g}),Object(j.jsx)(u,{code:a,setCode:s,loading:y}),Object(j.jsx)(h,{units:i,setUnits:x}),["metric","imperial","standard"].map((function(e){return Object(j.jsx)(p,{name:"units",checked:i===e,onChange:function(){return x(e)},label:"".concat(e[0].toUpperCase()).concat(e.slice(1))},"key-".concat(e))}))]})})},O=function(){return Object(j.jsx)("footer",{className:"Footer mt-auto bg-gradient-reverse",children:Object(j.jsx)("a",{href:"https://github.com/shah-a/few2.3-02-weather-api",target:"_blank",rel:"noreferrer",children:Object(j.jsx)("i",{className:"fab fa-github-alt fa-3x p-10 text-teal-900 hover:text-teal-700"})})})},f=function(){return Object(j.jsxs)("div",{className:"App min-h-screen flex flex-col bg-gray-100",children:[Object(j.jsx)("div",{className:"my-auto sm:mx-auto",children:Object(j.jsxs)("div",{className:"relative py-3 sm:max-w-xl sm:mx-auto",children:[Object(j.jsx)("div",{className:"absolute inset-x-0 inset-y-10 sm:inset-10 bg-gradient shadow-lg transform -skew-y-6 sm:skew-y-0 sm:-rotate-6 sm:rounded-3xl"}),Object(j.jsx)("div",{className:"relative px-4 py-10 bg-white shadow-lg sm:rounded-3xl sm:p-20 my-10 sm:m-10",children:Object(j.jsx)(x,{})})]})}),Object(j.jsx)(O,{})]})};c.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(f,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.1fad309c.chunk.js.map